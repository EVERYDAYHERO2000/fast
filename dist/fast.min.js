(()=>{const $=window.__fast__={components:{},config:{tagSign:":",componentsDirectory:"src/components",aliases:[{"@root":""},{"@components":"__fast__.config.componentsDirectory"},{"@component":"${__fast__.config.componentsDirectory}/${componentName}/assets"}],componentsExtension:"html",components:[],css:""},init:function(t,e,n){e=e||document.body,$.config={...$.config,...t},a($.config.css+".fast-inited {opacity: 0}"),e.classList.add("fast-inited"),o($.config.components,function(t){l(t),y(e,function(t){n&&n(t),setTimeout(()=>e.classList.remove("fast-inited"),500)})})},findComponents:y,installComponent:n,parseTemplate:i};function y(n,e){o((()=>{const e=[];return n.tagName&&n.querySelectorAll("*").forEach(t=>{c(t.tagName)&&(s(t=r(t.tagName))||e.includes(t)||e.push(t))}),e})(),function(t){l(t),function e(t){{var n,o;t.tagName&&(n=t.tagName,c(n)?(o=r(n),s(o)&&m(t,o)):["SCRIPT","STYLE"].includes(t.tagName)||t.childNodes.length&&t.childNodes.forEach(t=>{e(t)}))}}(n),e&&e(n)})}function r(t){return t[0]+t.toLowerCase().slice(1).replace($.config.tagSign,"")}function c(t){return!!t.includes($.config.tagSign)}function s(t){return!!$.components[t]}function o(t,e){const o=[],r=[];var c=$.config;t.forEach(function(e,n){o.push(fetch(`${c.componentsDirectory}/${e}/${e}.${c.componentsExtension}`).then(function(t){return t.text()}).then(function(t){r[n]={context:t,name:e}}))}),Promise.all(o).then(()=>e(r))}function i(t,e){const n=new DOMParser,o=n.parseFromString(t,"text/html");var r=o.querySelector("template").content.children[0].outerHTML,c=o.querySelector("style").textContent,t=o.querySelector("script").textContent;return{Template:u(r,e).replace(/on([a-z]+)=['"]?\$\{([\w\d_]+)\}['"]?/gi,function(t,e,n){return`on${e}="${n}"`}).replace(/ +(?= )/g,"").replaceAll("=&gt;","=>"),Script:(r=e,t=u(t=(t=(t=t).trim()).length?t:"({})",r)),Style:u(c,e).trim().replace(/ +(?= )/g,"")}}function a(t){let e=document.getElementById("fast-styles");return e||(e=document.createElement("style"),e.setAttribute("id","fast-styles"),document.head.append(e)),Sass?Sass.compile(t,function(t){e.textContent+=t.text?`${t.text}\n`:""}):e.textContent+=`${t}\n`,e.textContent}function u(n,o){return $.config.aliases.forEach(t=>{var e=Object.keys(t)[0],t=new Function("componentName",`return \`${t[e]}\``)(o);n=n.replaceAll(e,t)}),n}function l(t,e){t.forEach(t=>{s(t.name)||n(t.context,t.name,function(t){e&&e(t)})})}function n(t,e,n){var{Template:o,Script:r,Style:t}=i(t,e),c={props:{},created:function(t){return t},mounted:function(t){return t},methods:{},...new Function(`return ${r}`)()},o=function(t){var e=c.methods,n=c.props;let o="";var r,e=(r=e,Object.keys(r).map(function(t){return o+=`${t}:${t},`,`const ${t} = ${r[t]};\n`}).join("")),n=Object.keys(n).map(function(t){return`const ${t} = (props.${t} && props.${t}.value) ? props.${t}.value : undefined;\n`}).join("");return new Function("props",`${n}${e} return {methods:{${o}},template:\`${t}\`}`)}(o),e=$.components[e]={name:e,create:o,style:t,props:c.props,created:c.created,mounted:c.mounted,methods:c.methods,instances:[],path:`${$.config.componentsDirectory}/${e}/`};return a(t),n&&n(e),e}function m(n,t,e){var o,r,c=n.childNodes,s=n.querySelectorAll("slot"),i=(()=>{const t={};for(var e of n.attributes)t[e.nodeName]=e.nodeValue;return t})();const a=$.components[t],u=JSON.parse(JSON.stringify(a.props)),l={};for(o in i){let t=!1;for(var m in u)m==o&&(t=!0,u[m].value=i[o]);t||(l[o]=i[o])}const p=function(t){const e=new DOMParser;var c=a.create(t);const n=e.parseFromString(c.template,"text/html").body,o=n.children[0];y(o,function(t){});const r=n.querySelectorAll("*");return r.forEach(function(t){for(var e of t.attributes)if(e.name.indexOf("on")+1==1){const r=e.name;var n=r.slice(2),o=e.nodeValue,e=`__${o}`;t[e]=c.methods[o],t.addEventListener(n,t[e]),t.removeAttribute(r)}}),o.__props=t,o.__created=a.created,o.__mounted=a.mounted,o.__methods=c.methods,o}(u);for(r in p.__created({component:$.components[t],instance:p,props:u}),l)p.hasAttribute(r)?p.setAttribute(r,`${p.getAttribute(r)} ${l[r]}`):p.setAttribute(r,l[r]);var f=p.querySelectorAll("slot");if(c.length&&f.length)if(s.length)for(var d of s){var g,h=d.getAttribute("name");d.childNodes;for(g of f)h==g.getAttribute("name")&&_(d,g)}else _(n,f[0]);return n.parentElement.replaceChild(p,n),$.components[t].instances.push(p),p.__mounted({component:$.components[t],instance:p,props:u}),e&&e(p),p}function _(t,e){e.parentElement.replaceChild(t,e)}})();