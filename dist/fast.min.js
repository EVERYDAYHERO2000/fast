!function(){const v=window.__fast__={components:{},config:{tagSign:":",componentsDirectory:"src/components",componentsExtension:"html",components:[],css:""},findComponents:y,init:function(e,t,n){t=t||document.body.querySelectorAll("*"),v.config={...v.config,...e},u(v.config.css),a(v.config.components,function(e){e.forEach(function(e){l(e.context,e.name)}),y(t,function(e){n&&n(e)})})},installComponent:l};function y(e,t){const n=[],o=[];for(const c of e){const s=c.tagName;var r;s&&s.includes(v.config.tagSign)&&(r=s[0]+s.toLowerCase().slice(1,s.length-1),v.components[r]||(n.push(r),v.components[r]={}),o.push({componentName:r,component:v.components[r],elem:c}))}n.length?a(n,function(e){e.forEach(function(e){l(e.context,e.name)}),o.forEach(function(e){e.elem.parentElement&&i(e.elem,e.componentName)}),t&&t(v)}):(o.forEach(function(e){i(e.elem,e.componentName)}),t&&t(v))}function i(n,e){var t,o,r=n.childNodes,c=n.querySelectorAll("slot"),s=(()=>{const e={};for(var t of n.attributes)e[t.nodeName]=t.nodeValue;return e})();const i=v.components[e],a=JSON.parse(JSON.stringify(i.props)),l={};for(t in s){let e=!1;for(var u in a)u==t&&(e=!0,a[u].value=s[t]);e||(l[t]=s[t])}const m=function(e){const t=new DOMParser,n=t.parseFromString(i.template(e),"text/html").body;var o;for(o of n.querySelectorAll("*"))for(var r of o.attributes)if(r.name.includes(":")){const s={name:r.name.replace(":",""),value:`__${r.nodeValue}`};o[s.value]=i.methods[r.nodeValue],o.removeAttribute(r.name),o.addEventListener(s.name.slice(2),i.methods[r.nodeValue])}const c=n.children[0];return c.__created=i.created,c.__mounted=i.mounted,c}(a);for(o in y(m.querySelectorAll("*")),m.__created(m),l)m.hasAttribute(o)?m.setAttribute(o,`${m.getAttribute(o)} ${l[o]}`):m.setAttribute(o,l[o]);var f=m.querySelectorAll("slot");if(r.length&&f.length)if(c.length)for(var p of c){var d,h=p.getAttribute("name"),g=p.childNodes;for(d of f)h==d.getAttribute("name")&&$(g,d)}else $(r,f[0]);return n.parentElement.replaceChild(m,n),v.components[e].instances.push(m),m.__mounted(m),n}function $(e,t){const n=document.createDocumentFragment();y(e);for(var o of e){o=o.cloneNode(!0);n.append(o)}return t.parentElement.replaceChild(n,t),e}function a(e,t){const o=[];var r=[];e.forEach(function(t,n){o.push(fetch(`${v.config.componentsDirectory}/${t}/${t}.${v.config.componentsExtension}`).then(function(e){return e.text()}).then(function(e){r[n]={context:e,name:t}}))}),Promise.all(o).then(function(){t(r)})}function l(e,t){const n=new DOMParser,o=n.parseFromString(e,"text/html");var s=o.querySelector("template").content,r=(c=function(){let e=o.querySelector("script").innerText.trim();return e=";"==e[e.length-1]?e.slice(0,e.length-1):e,e=e.slice(1,e.length-1),e}(),{props:{},created:e=>!1,mounted:e=>!1,methods:{},...new Function(`return ${c}`)()}),e=o.querySelector("style").textContent.replaceAll("@component",`${v.config.componentsDirectory}/${t}/assets`),c=function(e){let t=[];var n,o,r=s.children[0].outerHTML;for(n in e)t.push(n);let c="";for(o in t)c+=`const ${t[o]} = (props.${t[o]} && props.${t[o]}.value) ? props.${t[o]}.value : 'undefined';\n`;return new Function("props",`${c} return \`${r}\``)}(r.props);v.components[t]||(v.components[t]={});const i=v.components[t];return i.name=t,i.template=c,i.style=e,i.props=r.props,i.created=r.created,i.mounted=r.mounted,i.methods=r.methods,i.instances=[],u(e),i}function u(e){let t=document.getElementById("fast-styles");return t||(t=document.createElement("style"),t.setAttribute("id","fast-styles"),document.head.append(t)),t.textContent+=`${e}\n`,t.textContent}}();