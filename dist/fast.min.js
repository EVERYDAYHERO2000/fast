(()=>{const d=window.__fast__={components:{},config:{tagSign:":",componentsDirectory:"src/components",aliases:[{"@root":""},{"@components":"__fast__.config.componentsDirectory"},{"@component":"${__fast__.config.componentsDirectory}/${componentName}/assets"}],componentsExtension:"html",components:[],css:""},init:function(t,e,n){e=e||document.body,d.config={...d.config,...t},u(d.config.css+".fast-inited {opacity: 0}"),e.classList.add("fast-inited"),o(d.config.components,function(t){l(t),h(e,function(t){n&&n(t),setTimeout(()=>e.classList.remove("fast-inited"),500)})})},findComponents:h,installComponent:n,parseTemplate:i};class s{constructor(t){return this.props=t.props||{},this.template=t.template||function(t){return!1},this.methods=t.methods||{},this.name=t.name||"",this.mounted=t.mounted||function(t){return!1},this.created=t.created||function(t){return!1},this.path=t.path||"",this.instances=t.instances||[],this.style=t.style||"",this}create(t){return this.template(t)}}function h(n,e){o((()=>{const e=[];return n.tagName&&n.querySelectorAll("*").forEach(t=>{$(t.tagName)&&(c(t=r(t.tagName))||e.includes(t)||e.push(t))}),e})(),function(t){l(t),function e(t){{var n,o;t.tagName&&(n=t.tagName,$(n)?(o=r(n),c(o)&&p(t,o)):["SCRIPT","STYLE"].includes(t.tagName)||t.childNodes.length&&t.childNodes.forEach(t=>{e(t)}))}}(n),e&&e(n)})}function r(t){return t[0]+t.toLowerCase().slice(1).replace(d.config.tagSign,"")}function g(t){return t.indexOf("on")+1==1&&2<t.length}function $(t){return!!t.includes(d.config.tagSign)}function y(e,n){Object.keys(e).forEach(function(t){n(t,e[t])})}function c(t){return!!d.components[t]}function o(t,e){const o=[],r=[];var c=d.config;t.forEach(function(e,n){o.push(fetch(`${c.componentsDirectory}/${e}/${e}.${c.componentsExtension}`).then(function(t){return t.text()}).then(function(t){r[n]={context:t,name:e}}))}),Promise.all(o).then(()=>e(r))}function i(t,e){const n=new DOMParser,o=n.parseFromString(t,"text/html");var r=o.querySelector("template"),c=r?r.content.children[0]:"",t=o.querySelector("style"),r=o.querySelector("script"),c=c?c.outerHTML:"",t=t?t.textContent:"",r=r?o.querySelector("script").textContent:"";return{stringTemplate:a(c,e).replace(/on([a-z]+)=['"]?\$\{([\w\d_]+)\}['"]?/gi,function(t,e,n){return`on${e}="${n}"`}).replace(/(\${.+\})/gi,function(t,e){return e.replaceAll("&gt;",">").replaceAll("&lt;","<")}),stringScript:(c=e,r=a(r=(r=(r=r).trim()).length?r:"({})",c)),stringStyle:a(t,e).trim().replace(/ +(?= )/g,"")}}function a(n,o){return d.config.aliases.forEach(t=>{var e=Object.keys(t)[0],t=new Function("componentName",`return \`${t[e]}\``)(o);n=n.replaceAll(e,t)}),n}function u(t){let e=document.getElementById("fast-styles");return e||(e=document.createElement("style"),e.setAttribute("id","fast-styles"),document.head.append(e)),Sass?Sass.compile(t,function(t){e.textContent+=t.text?`${t.text}\n`:""}):e.textContent+=`${t}\n`,e.textContent}function l(t,e){t.forEach(t=>{c(t.name)||n(t.context,t.name,function(t){e&&e(t)})})}function n(t,e,n){var{stringTemplate:o,stringScript:r,stringStyle:t}=i(t,e),c=new Function(`return ${r}`)(),o=function(t){var e=c.methods||[],n=c.props||[];let o="";var r,e=(r=e,Object.keys(r).map(function(t){return o+=`${t}:${t},`,`const ${t} = ${r[t]};\n`}).join("")),n=Object.keys(n).map(function(t){return`const ${t} = (props.${t} && props.${t}.value) ? props.${t}.value : undefined;\n`}).join("");return new Function("props",`${n}${e} return {methods:{${o}},template:\`${t}\`}`)}(o),e=d.components[e]=new s({name:e,template:o,style:t,props:c.props,created:c.created,mounted:c.mounted,methods:c.methods,instances:[],path:`${d.config.componentsDirectory}/${e}/`});return u(t),n&&n(e),e}function p(t,e,n){const s=d.components[e];var o=t.childNodes,r=t.querySelectorAll("slot");const c=function(){const n={};return y(t,function(t,e){t.includes("$")&&(n[t]=e)}),n}();var{props:i,attributes:a}=function(t,e){var c=(e=e.props,JSON.parse(JSON.stringify(e)));const s={};return y(t.attributes,function(t,e){var n=e.nodeName,o=e.nodeValue;let r=!1;y(c,function(t,e){t==n&&(r=!0,e.value=o)}),r||(s[n]=o)}),{props:c,attributes:s}}(t,s);const u=function(t){const e=new DOMParser;var c=s.create(t);const n=e.parseFromString(c.template,"text/html").body,o=n.children[0];h(o);const r=n.querySelectorAll("*");return r.forEach(function(e){for(var t of e.attributes)if(g(t.name)){const r=t.name;var n=r.slice(2),t=t.nodeValue,o=`$${t}`;e[o]=c.methods[t],e.addEventListener(n,function(t){e[o](t,e)}),$(e.tagName)||e.removeAttribute(r)}}),o.__props=t,o.__created=s.created,o.__mounted=s.mounted,o.__methods=c.methods,o}(i);y(c,function(t,e){u[t]=e}),u.__created({component:d.components[e],instance:u,props:i}),y(a,function(t,e){u.hasAttribute(t)?u.setAttribute(t,`${u.getAttribute(t)} ${e}`):g(t)?(u.removeAttribute(t),u.addEventListener(t.slice(2),function(t){c[`$${e}`](t,u)})):u.setAttribute(t,e)});var l=u.querySelectorAll("slot");if(o.length&&l.length)if(r.length)for(var p of r){var m,f=p.getAttribute("name");p.childNodes;for(m of l)f==m.getAttribute("name")&&v(p,m)}else v(t,l[0]);return t.parentElement.replaceChild(u,t),d.components[e].instances.push(u),u.__mounted({component:d.components[e],instance:u,props:i}),n&&n(u),u}function v(t,e){e.parentElement.replaceChild(t,e)}})();