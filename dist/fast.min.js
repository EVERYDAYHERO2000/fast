(()=>{const f={},o=window.__fast__={components:f,config:{tagSign:":",componentsDirectory:"src/components",dataset:{},aliases:[{"@root":""},{"@components":"__fast__.config.componentsDirectory"},{"@component":"${__fast__.config.componentsDirectory}/${componentName}/assets"}],componentsExtension:"html",components:[],css:""},init:function(t,e,n){e=e||document.body,o.config={...c,...t},c=o.config,p(c.css+".fast-inited {opacity: 0;}"),e.classList.add("fast-inited"),i(c.components,t=>{m(t),h(e,t=>{n&&n(t),setTimeout(()=>e.classList.remove("fast-inited"),500)})})},findComponents:h,installComponent:n,parseTemplate:l,checkProp:function(t){let e=t.value;var n=t.type,o=t.default;"String"==t.type.name||("Number"==n?e=+e:"Object"==n||"Array"==n?e=JSON.parse(n):"Boolean"==n&&(e="true"==e));return e=void 0===o||e?e:o,e}};let c=o.config;class a{constructor(t){return this.props=t.props||{},this.template=t.template||function(t){return!1},this.methods=t.methods||{},this.name=t.name||"",this.mounted=t.mounted||function(t){return!1},this.created=t.created||function(t){return!1},this.path=t.path||"",this.instances=t.instances||[],this.style=t.style||"",this}create(t){return this.template(t)}}function h(n,e){i((()=>{const e=[];return n.tagName&&y(n,"*").forEach(t=>{$(t.tagName)&&(s(t=r(t.tagName))||e.includes(t)||e.push(t))}),e})(),t=>{m(t),function e(t){{var n,o;t.tagName&&(n=t.tagName,$(n)?(o=r(n),s(o)&&d(t,o)):["SCRIPT","STYLE"].includes(t.tagName)||t.childNodes.length&&t.childNodes.forEach(t=>{e(t)}))}}(n),e&&e(n)})}function r(t){return t[0]+t.toLowerCase().slice(1).replace(c.tagSign,"")}function g(t){return t.indexOf("on")+1==1&&2<t.length}function $(t){return!!t.includes(c.tagSign)}function _(e,n){Object.keys(e).forEach(t=>{n(t,e[t])})}function y(t,e){return t.querySelectorAll(e)}function s(t){return!!f[t]}function i(t,e){const o=[],r=[];t.forEach((e,n)=>{o.push(fetch(`${c.componentsDirectory}/${e}/${e}.${c.componentsExtension}`).then(t=>t.text()).then(t=>{r[n]={context:t,name:e}}))}),Promise.all(o).then(()=>e(r))}function l(t,e){t=t.replace(/\s+/gi," ");let n,o,r;return t.replace(/<template>(.*?)<\/template>/gi,(t,e)=>n=e).replace(/<script>(.*?)<\/script>/gi,(t,e)=>o=e).replace(/<style>(.*?)<\/style>/gi,(t,e)=>r=e),{stringTemplate:u(n,e).replace(/on([a-z]+)=['"]?\$\{([\w\d_]+)\}['"]?/gi,(t,e,n)=>`on${e}="${n}"`).replace(/(\${.+\})/gi,(t,e)=>e.replaceAll("&gt;",">").replaceAll("&lt;","<")),stringScript:(s=o,t=e,s=u(s=(s=s.trim()).length?s:"({})",t)),stringStyle:u(r,e).trim().replace(/ +(?= )/g,"")};var s}function u(n,o){return c.aliases.forEach(t=>{var e=Object.keys(t)[0],t=new Function("componentName",`return \`${t[e]}\``)(o);n=n.replaceAll(e,t)}),n}function p(t){let e=(n=document,o="#fast-styles",n.querySelector(o));var n,o;return e||(e=document.createElement("style"),e.setAttribute("id","fast-styles"),document.head.append(e)),window.Sass?Sass.compile(t,t=>{e.textContent+=t.text?`${t.text}\n`:""}):e.textContent+=`${t}\n`,e.textContent}function m(t,e){t.forEach(t=>{s(t.name)||n(t.context,t.name,t=>{e&&e(t)})})}function n(t,e,n){var{stringTemplate:o,stringScript:r,stringStyle:t}=l(t,e),s=new Function(`return ${r}`)(),o=function(t){var e=s.methods||[],n=s.props||[];let o="";var r,e=(r=e,Object.keys(r).map(function(t){return o+=`${t}:${t},`,`const ${t} = ${r[t]};\n`}).join("")),n=Object.keys(n).map(function(t){return`const ${t} = checkProp(props.${t});\n`}).join("");return new Function("props",`const checkProp = __fast__.checkProp;
const dataset = __fast__.config.dataset;
${n}${e} return {methods:{${o}},template:\`${t}\`}`)}(o),e=f[e]=new a({name:e,template:o,style:t,props:s.props,created:s.created,mounted:s.mounted,methods:s.methods,instances:[],path:`${c.componentsDirectory}/${e}/`});return p(t),n&&n(e),e}function d(t,e,n){const a=f[e];var o=t.childNodes,r=y(t,"slot");const s=(()=>{const n={};return _(t,(t,e)=>{t.includes("$")&&(n[t]=e)}),n})();var{props:c,attributes:i}=(t=>{var s=function(t){let n={};return _(t,(t,e)=>{n[t]={type:e.type.name,default:void 0!==e.default?e.default:null}}),n}(a.props);const c={};return _(t.attributes,(t,e)=>{var n=e.nodeName,o=e.nodeValue;let r=!1;_(s,(t,e)=>{t==n&&(r=!0,e.value=o)}),r||(c[n]=o)}),{props:s,attributes:c}})(t);const l=(t=>{const e=new DOMParser;var c=a.create(t),n=e.parseFromString(c.template,"text/html").body;const o=n.children[0];h(o);const r=y(n,"*");return r.forEach(s=>{s.outerHTML.split(/>\s+</)[0].replace(/\s+(.*?)=['"]+(.*?)['"]/gi,function(t,e,n){var o,r;g(e)&&(e=(o=e).slice(2),s[r=`$${n}`]=c.methods[n],s.addEventListener(e,t=>{s[r](t,s)}),$(s.tagName)||s.removeAttribute(o))})}),o.__props=t,o.__created=a.created,o.__mounted=a.mounted,o.__methods=c.methods,o})(c);_(s,(t,e)=>{l[t]=e}),l.__created({component:f[e],instance:l,props:c}),_(i,(t,e)=>{l.hasAttribute(t)?l.setAttribute(t,`${l.getAttribute(t)} ${e}`):g(t)?(l.removeAttribute(t),l.addEventListener(t.slice(2),t=>{s[`$${e}`](t,l)})):l.setAttribute(t,e)});var u=y(l,"slot");if(o.length&&u.length)if(r.length)for(var p of r){var m,d=p.getAttribute("name");for(m of u)d==m.getAttribute("name")&&v(p,m)}else v(t,u[0]);return t.parentElement.replaceChild(l,t),f[e].instances.push(l),l.__mounted({component:f[e],instance:l,props:c}),n&&n(l),l}function v(t,e){e.parentElement.replaceChild(t,e)}})();