!function(){const $=window.__fast__={components:{},config:{tagSign:":",componentsDirectory:"src/components",componentsExtension:"html",components:[],css:""},findComponents:y,init:function(e,t,n){t=t||document.body.querySelectorAll("*"),$.config={...$.config,...e},u($.config.css),s($.config.components,function(e){e.forEach(function(e){a(e.context,e.name)}),y(t,function(e){n&&n(e)})})},installComponent:a,parseTemplate:i};class c{constructor(e){return this.props=e?e.props:{},this.methods=e?e.methods:{},this.name=e?e.name:"",e&&e.mounted&&(this.mounted=e.mounted),e&&e.created&&(this.created=e.created),this}mounted(e){return e}created(e){return e}}function y(e,t){const o=[],r=[];(e="NodeList"!=e.constructor.name?e.querySelectorAll("*"):e).forEach(function(e){const t=e.tagName;var n;t&&t.includes($.config.tagSign)&&(n=t[0]+t.toLowerCase().slice(1,t.length-1),$.components[n]||(o.push(n),$.components[n]=new c),r.push({componentName:n,component:$.components[n],$elem:e}))}),o.length?s(o,function(e){e.forEach(function(e){a(e.context,e.name)}),r.forEach(function(e){e.$elem.parentElement&&n(e.$elem,e.componentName)}),t&&t($)}):(r.forEach(function(e){n(e.$elem,e.componentName)}),t&&t($))}function n(n,e){var t,o,r=n.childNodes,c=n.querySelectorAll("slot"),s=(()=>{const e={};for(var t of n.attributes)e[t.nodeName]=t.nodeValue;return e})();const i=$.components[e],a=JSON.parse(JSON.stringify(i.props)),u={};for(t in s){let e=!1;for(var m in a)m==t&&(e=!0,a[m].value=s[t]);e||(u[t]=s[t])}const l=function(e){const t=new DOMParser;var n=i.create(e);const o=t.parseFromString(n.template,"text/html").body,r=o.querySelectorAll("*");r.forEach(function(e){for(var t of e.attributes)if(t.name.indexOf("on")+1==1){const r=t.name;var n=r.slice(2),o=t.nodeValue,t=`__${o}`;e[t]=i.methods[o],e.addEventListener(n,e[t]),e.removeAttribute(r)}});const c=o.children[0];return c.__props=e,c.__created=i.created,c.__mounted=i.mounted,c.__methods=n.methods,c}(a);for(o in y(l.querySelectorAll("*")),l.__created({component:$.components[e],instance:l,props:a}),u)l.hasAttribute(o)?l.setAttribute(o,`${l.getAttribute(o)} ${u[o]}`):l.setAttribute(o,u[o]);var p=l.querySelectorAll("slot");if(r.length&&p.length)if(c.length)for(var f of c){var d,h=f.getAttribute("name"),g=f.childNodes;for(d of p)h==d.getAttribute("name")&&S(g,d)}else S(r,p[0]);return n.parentElement.replaceChild(l,n),$.components[e].instances.push(l),l.__mounted({component:$.components[e],instance:l,props:a}),n}function S(e,t){const n=document.createDocumentFragment();return y(e),e.forEach(function(e){n.append(e.cloneNode(!0))}),t.parentElement.replaceChild(n,t),e}function s(e,t){const o=[];var r=[];e.forEach(function(t,n){o.push(fetch(`${$.config.componentsDirectory}/${t}/${t}.${$.config.componentsExtension}`).then(function(e){return e.text()}).then(function(e){r[n]={context:e,name:t}}))}),Promise.all(o).then(function(){t(r)})}function i(e,t){const n=new DOMParser,o=n.parseFromString(e,"text/html");return{fragmentTemplate:o.querySelector("template").content,fragmentScript:(e=function(){let e=o.querySelector("script")?o.querySelector("script").innerText.trim():"({})";return e=";"==e[e.length-1]?e.slice(0,e.length-1):e,e=e.slice(1,e.length-1),e}(),{props:{},created:function(e){return e},mounted:function(e){return e},methods:{},...new Function(`return ${e}`)()}),fragmentStyle:(e=o).querySelector("style")?e.querySelector("style").textContent.replaceAll("@component",`${$.config.componentsDirectory}/${t}/assets`):""}}function a(e,t){var{fragmentTemplate:n,fragmentScript:o,fragmentStyle:e}=i(e,t),n=function(e,t,n){var o=function(){let e=n.children[0].outerHTML||"";return e=e.replace(/on([a-z]+)=['"]?\$\{([\w\d_]+)\}['"]?/gi,function(e,t,n){return`on${t}="${n}"`}),e}();let r="";var c,t=(c=t,Object.keys(c).map(function(e){return r+=`${e}:${e},`,`const ${e} = ${c[e]};\n`}).join("")),e=Object.keys(e).map(function(e){return`const ${e} = (props.${e} && props.${e}.value) ? props.${e}.value : 'undefined';\n`}).join("");return new Function("props",`${e}${t} return {methods:{${r}},template:\`${o}\`}`)}(o.props,o.methods,n);$.components[t]||($.components[t]={});const r=$.components[t];return r.name=t,r.create=n,r.style=e,r.props=o.props,r.created=o.created,r.mounted=o.mounted,r.methods=o.methods,r.instances=[],r.path=`${$.config.componentsDirectory}/${t}/`,u(e),r}function u(e){let t=document.getElementById("fast-styles");return t||(t=document.createElement("style"),t.setAttribute("id","fast-styles"),document.head.append(t)),Sass?Sass.compile(e,function(e){t.textContent+=`${e.text}\n`}):t.textContent+=`${e}\n`,t.textContent}}();