(()=>{const $=window.__fast__={components:{},config:{tagSign:":",componentsDirectory:"src/components",componentsExtension:"html",components:[],css:""},init:function(e,t,n){t=t||document.body,$.config={...$.config,...e},a($.config.css+".needToRender {opacity: 0}"),t.classList.add("needToRender"),o($.config.components,function(e){e.forEach(function(e){s(e.name)||u(e.context,e.name)}),y(t,function(e){n&&n(e),setTimeout(()=>t.classList.remove("needToRender"),500)})})},findComponents:y,installComponent:u,parseTemplate:i};function y(n,t){o((()=>{const t=[];return n.tagName&&n.querySelectorAll("*").forEach(e=>{c(e.tagName)&&(s(e=r(e.tagName))||t.includes(e)||t.push(e))}),t})(),function(e){e.forEach(e=>{s(e.name)||u(e.context,e.name)}),function t(e){{var n,o;e.tagName&&(n=e.tagName,c(n)?(o=r(n),s(o)&&l(e,o,function(e){})):["SCRIPT","STYLE"].includes(e.tagName)||e.childNodes.length&&e.childNodes.forEach(e=>{t(e)}))}}(n),t&&t(n)})}function r(e){return e[0]+e.toLowerCase().slice(1).replace($.config.tagSign,"")}function c(e){return!!e.includes($.config.tagSign)}function s(e){return!!$.components[e]}function o(e,t){const o=[];var r=[];e.forEach(function(t,n){o.push(fetch(`${$.config.componentsDirectory}/${t}/${t}.${$.config.componentsExtension}`).then(function(e){return e.text()}).then(function(e){r[n]={context:e,name:t}}))}),Promise.all(o).then(function(){t(r)})}function i(e,n){const t=new DOMParser,o=t.parseFromString(e,"text/html");return{fragmentTemplate:o.querySelector("template").content,fragmentScript:(e=function(){let e=o.querySelector("script")?o.querySelector("script").innerText.trim():"({})";return e=";"==e[e.length-1]?e.slice(0,e.length-1):e,e=e.slice(1,e.length-1),e}(),{props:{},created:function(e){return e},mounted:function(e){return e},methods:{},...new Function(`return ${e}`)()}),fragmentStyle:function(e){let t=e.querySelector("style")?e.querySelector("style").textContent.replaceAll("@component",`${$.config.componentsDirectory}/${n}/assets`):"";return t=t.trim().replace(/ +(?= )/g,""),t}(o)}}function a(e){let t=document.getElementById("fast-styles");return t||(t=document.createElement("style"),t.setAttribute("id","fast-styles"),document.head.append(t)),Sass?Sass.compile(e,function(e){t.textContent+=e.text?`${e.text}\n`:""}):t.textContent+=`${e}\n`,t.textContent}function u(e,t,n){var{fragmentTemplate:o,fragmentScript:r,fragmentStyle:e}=i(e,t),o=function(e,t,n){var o=function(){let e=n.children[0].outerHTML||"";return e=e.replace(/on([a-z]+)=['"]?\$\{([\w\d_]+)\}['"]?/gi,function(e,t,n){return`on${t}="${n}"`}),e=e.replace(/ +(?= )/g,""),e=e.replaceAll("=&gt;","=>"),e}();let r="";var c,t=(c=t,Object.keys(c).map(function(e){return r+=`${e}:${e},`,`const ${e} = ${c[e]};\n`}).join("")),e=Object.keys(e).map(function(e){return`const ${e} = (props.${e} && props.${e}.value) ? props.${e}.value : undefined;\n`}).join("");return new Function("props",`${e}${t} return {methods:{${r}},template:\`${o}\`}`)}(r.props,r.methods,o);$.components[t]||($.components[t]={});const c=$.components[t];return c.name=t,c.create=o,c.style=e,c.props=r.props,c.created=r.created,c.mounted=r.mounted,c.methods=r.methods,c.instances=[],c.path=`${$.config.componentsDirectory}/${t}/`,a(e),n&&n(c),c}function l(n,t,e){try{var o,r,c=n.childNodes,s=n.querySelectorAll("slot"),i=(()=>{const e={};for(var t of n.attributes)e[t.nodeName]=t.nodeValue;return e})();const f=$.components[t],d=JSON.parse(JSON.stringify(f.props)),g={};for(o in i){let e=!1;for(var a in d)a==o&&(e=!0,d[a].value=i[o]);e||(g[o]=i[o])}const h=function(e){const t=new DOMParser;var n=f.create(e);const o=t.parseFromString(n.template,"text/html").body,r=o.querySelectorAll("*");r.forEach(function(e){for(var t of e.attributes)if(t.name.indexOf("on")+1==1){const r=t.name;var n=r.slice(2),o=t.nodeValue,t=`__${o}`;e[t]=f.methods[o],e.addEventListener(n,e[t]),e.removeAttribute(r)}});const c=o.children[0];return c.__props=e,c.__created=f.created,c.__mounted=f.mounted,c.__methods=n.methods,c}(d);for(r in y(h),h.__created({component:$.components[t],instance:h,props:d}),g)h.hasAttribute(r)?h.setAttribute(r,`${h.getAttribute(r)} ${g[r]}`):h.setAttribute(r,g[r]);var u=h.querySelectorAll("slot");if(c.length&&u.length)if(s.length)for(var l of s){var m,p=l.getAttribute("name");l.childNodes;for(m of u)p==m.getAttribute("name")&&S(l,m)}else S(n,u[0]);return n.parentElement.replaceChild(h,n),$.components[t].instances.push(h),h.__mounted({component:$.components[t],instance:h,props:d}),e&&e(h),h}catch(e){console.error(`Component <${t}> can't be rendered.`)}}function S(e,t){t.parentElement.replaceChild(e,t)}})();