(()=>{const h={},o=window.Fast={components:h,config:{tagSign:":",componentsDirectory:"src/components",dataset:{},aliases:[{"@root":""},{"@components":"Fast.config.componentsDirectory"},{"@component":"${Fast.config.componentsDirectory}/${componentName}/assets"}],componentsExtension:"html",components:[],css:""},init:function(t,e,n){e=e||document.body,o.config={...c,...t},c=o.config,l(c.css+".fast-inited {opacity: 0;}"),e.classList.add("fast-inited"),s(c.components,t=>{r(t),f(e,t=>{n&&n(t),setTimeout(()=>e.classList.remove("fast-inited"),500)})})},findComponents:f,installComponent:n,parseTemplate:i,checkProp:function(t){let e=t.value||null;var n=t.type||"String",t=t.default;null!=e&&(e="String"!=n?new Function(`return ${e}`)():`${e}`);return void 0===t||e?e:t}};let c=o.config;class a{constructor(t){return this.props=t.props||{},this.template=t.template||function(t){return!1},this.methods=t.methods||{},this.name=t.name||"",this.mounted=t.mounted||function(t){return!1},this.created=t.created||function(t){return!1},this.path=t.path||"",this.instances=t.instances||[],this.style=t.style||"",this}render(t){t=this.template(t);const e=document.createElement("div");return e.innerHTML=t.template,{instance:e.children[0],methods:t.methods}}}function f(n,e){s((()=>{const e=[];return n.tagName&&b(n,"*").forEach(t=>{v(t.tagName)&&(d(t=m(t.tagName))||e.includes(t)||e.push(t))}),e})(),t=>{r(t),function e(t){{var n,o;t.tagName&&(n=t.tagName,v(n)?(o=m(n),d(o)&&p(t,o)):["SCRIPT","STYLE","TEMPLATE"].includes(t.tagName)||t.childNodes.length&&t.childNodes.forEach(t=>{e(t)}))}}(n),e&&e(n)})}function s(t,e){const o=[],s=[];t.forEach((e,n)=>{o.push(fetch(`${c.componentsDirectory}/${e}/${e}.${c.componentsExtension}`).then(t=>t.text()).then(t=>{s[n]={context:t,name:e}}))}),Promise.all(o).then(()=>e(s))}function i(t,e){let n,o,s;return t.replace(/<template\b[^>]*>([\s\S]*?)<\/template>/gim,(t,e)=>n=e).replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gim,(t,e)=>o=e).replace(/<style\b[^>]*>([\s\S]*?)<\/style>/gim,(t,e)=>s=e),{stringTemplate:u(n,e).replace(/on([a-z]+)=['"]?\$\{([\w\d_]+)\}['"]?/gi,(t,e,n)=>`on${e}="${n}"`),stringScript:(r=o,t=e,r=u(r=(r=r.trim()).length?r:"({})",t)),stringStyle:u(s,e).trim().replace(/ +(?= )/g,"")};var r}function u(n,o){return c.aliases.forEach(t=>{var e=Object.keys(t)[0],t=new Function("componentName",`return \`${t[e]}\``)(o);n=n.replaceAll(e,t)}),n}function l(t){let e=(n=document,o="#fast-styles",n.querySelector(o));var n,o;return e||(e=document.createElement("style"),e.setAttribute("id","fast-styles"),document.head.append(e)),window.Sass?Sass.compile(t,t=>{e.textContent+=t.text?`${t.text}\n`:""}):e.textContent+=`${t}\n`,e.textContent}function r(t,e){t.forEach(t=>{d(t.name)||n(t.context,t.name,t=>{e&&e(t)})})}function n(t,e,n){var{stringTemplate:o,stringScript:s,stringStyle:t}=i(t,e),r=new Function(`return ${s}`)(),o=(t=>{var e=r.methods||[],n=r.props||[];let o="";var s,e=(s=e,Object.keys(s).map(t=>(o+=`${t}:${t},`,`const ${t} = ${s[t]};\n`)).join("")),n=Object.keys(n).map(t=>`const ${t} = checkProp(props.${t});\n`).join("");return new Function("props",`const checkProp = Fast.checkProp;
const dataset = Fast.config.dataset;
${n}${e} return {methods:{${o}},template:\`${t}\`}`)})(o),e=h[e]=new a({name:e,template:o,style:t,props:r.props,created:r.created,mounted:r.mounted,methods:r.methods,instances:[],path:`${c.componentsDirectory}/${e}/`});return l(t),n&&n(e),e}function p(t,e,n){var o=h[e],s=t.childNodes,r=b(t,"slot");const c=(()=>{const n={};return y(t,(t,e)=>{t.includes("$")&&(n[t]=e)}),n})();var{props:a,attributes:i}=(t=>{var r=function(t){let n={};return y(t,(t,e)=>{n[t]={type:e.type.name,default:void 0!==e.default?e.default:null}}),n}(o.props);const c={};return y(t.attributes,(t,e)=>{var n=e.nodeName,o=e.nodeValue;let s=!1;y(r,(t,e)=>{t==n&&(s=!0,e.value=o)}),s||(c[n]=o)}),{props:r,attributes:c}})(t);const u=((t,e)=>{const c=t.render(e);f(c.instance);const n=b(c.instance,"*");return n.forEach(r=>{r.outerHTML.split(/>\s+</)[0].replace(/\s+(.*?)=['"]+(.*?)['"]/gi,(t,e,n)=>{var o,s;$(e)&&(e=(o=e).slice(2),r[s=`$${n=n}`]=c.methods[n],r.addEventListener(e,t=>{r[s](t,r)}),v(r.tagName)||r.removeAttribute(o))})}),c.instance.__props=e,c.instance.__created=t.created,c.instance.__mounted=t.mounted,c.instance.__methods=c.methods,c.instance})(o,a);a={component:h[e],instance:u,props:a,childs:s};y(c,(t,e)=>{u[t]=e}),u.__created(a),y(i,(t,e)=>{u.hasAttribute(t)?u.setAttribute(t,`${u.getAttribute(t)} ${e}`):$(t)?(u.removeAttribute(t),u.addEventListener(t.slice(2),t=>{c[`$${e}`](t,u)})):u.setAttribute(t,e)});var l=b(u,"slot");if(s.length&&l.length)if(r.length)for(var p of r){var m,d=p.getAttribute("name");for(m of l)d==m.getAttribute("name")&&g(p,m)}else g(t,l[0]);return t.parentElement.replaceChild(u,t),h[e].instances.push(u),u.__mounted(a),n&&n(u),u}function g(t,e){e.parentElement.replaceChild(t,e)}function m(t){return t[0]+t.toLowerCase().slice(1).replace(c.tagSign,"")}function $(t){return t.indexOf("on")+1==1&&2<t.length}function v(t){return!!t.includes(c.tagSign)}function y(e,n){Object.keys(e).forEach(t=>{n(t,e[t])})}function b(t,e){return t.querySelectorAll(e)}function d(t){return!!h[t]}})();